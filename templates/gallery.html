{% extends "base.html" %}
{% block content %}
<button class="back-btn" onclick="history.back()">‚Üê Back</button>
<h1>Richard Ma's Gallery</h1>
{% if upload_endpoint %}
<form class="upload-form" action="{{ url_for(upload_endpoint) }}" method="post" enctype="multipart/form-data" data-photo-post-form="true">
    <input type="file" id="gallery-file" name="file" accept="image/*" required />
    <label for="gallery-file" class="file-label">Choose Photo</label>
    <button type="submit" class="upload-btn reveal-on-file">Post Photo</button>
</form>
{% endif %}
<div class="gallery">
    {% for img in images %}
    <div class="photo {{ img.size }}">
        <img src="{{ url_for('static', filename=(image_folder or 'images/gallery/') + img.filename) }}" alt="{{ img.filename }}" />
        {% if delete_endpoint %}
        <form class="upload-form" action="{{ url_for(delete_endpoint, filename=img.filename) }}" method="post" data-double-confirm="true">
            <button type="submit" class="upload-btn">Delete Photo</button>
        </form>
        {% endif %}
    </div>
    {% endfor %}
</div>
{% endblock %}